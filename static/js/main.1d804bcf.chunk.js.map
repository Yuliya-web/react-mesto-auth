{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/green-icon.svg","images/union.svg","components/InfoTooltip.js","utils/Api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","exact","path","userData","email","to","onClick","localStorage","removeItem","handleLogOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","cardDeleteButtonClassName","card","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","alt","name","src","link","onCardClick","type","id","onCardDelete","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","openedPopup","isOpen","onSubmit","noValidate","onClose","title","children","text","EditProfilePopup","useState","changeName","description","changeDescription","useEffect","placeholder","minLength","maxLength","required","value","onChange","evt","target","preventDefault","onUpdateUser","EditAvatarPopup","avaRef","useRef","ref","onUpdateAvatar","current","AddPlacePopup","changeLink","ImagePopup","Login","setEmail","password","setPassword","handleLoggedIn","Register","handleRegister","ProtectedRoute","Component","component","loggedIn","InfoTooltip","style","backgroundImage","successPic","failPic","apiData","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","method","then","_getResponseData","body","JSON","stringify","item","authorization","BASE_URL","App","isEditProfilePopupOpen","checkIsEditProfilePopupOpen","isEditAvatarPopupOpen","checkIsEditAvatarPopupOpen","isAddPlacePopupOpen","checkIsAddPlacePopupOpen","selectedCard","checkIsSelectedCard","gettingCard","checkGetCard","setCurrentUser","setCards","setIsLoggedIn","setUserData","isInfoTooltipOpen","setIsInfoTooltipOpen","history","useHistory","handleInfoTooltipOpen","closeAllPopups","tokenCheck","getItem","jwt","token","data","push","catch","err","console","log","getUserInfo","getCardsServer","Provider","changeLikeCardStatus","newCard","newCards","c","delMyCard","filter","auth","response","editProf","editAvatar","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1d804bcf.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\n\r\nexport function Header(props) {\r\n\r\n  function signOut() {\r\n    localStorage.removeItem('jwt');\r\n    props.handleLogOut();\r\n  }\r\n\r\n  return (\r\n  <header className=\"header\">\r\n    <div className=\"logo\"></div>\r\n    <Switch>\r\n      <Route exact path=\"/\">\r\n        <div className=\"header__info-container\">\r\n            <p className=\"header__account\">{props.userData.email}</p>\r\n            <Link to=\"/sign-up\" className=\"header__log-link\" onClick={signOut}>Выйти</Link>\r\n        </div>\r\n      </Route>\r\n      <Route path=\"/sign-up\">\r\n        <Link to=\"/sign-in\" className=\"header__log-link\">Войти</Link>\r\n      </Route>\r\n      <Route path=\"/sign-in\">\r\n        <Link to=\"/sign-up\" className=\"header__log-link\">Регистрация</Link>\r\n      </Route>\r\n    </Switch>\r\n  </header>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\nexport const CurrentUser = {\r\n  name: '',\r\n  about: '',\r\n  avatar: '',\r\n  _id: ''\r\n}; ","import {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\nimport React from 'react';\r\n\r\nexport function Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    isOwn ? 'element__delete-card' : 'element__delete-card_non-visible'\r\n  ); \r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = (\r\n   `element__like ${isLiked && 'element__like_active'}`\r\n  ); \r\n\r\n  function handleCardClick() {\r\n    props.onCardClick(props.card)    \r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)    \r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card) \r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"element\" >\r\n        <img className=\"element__image\" alt={props.card.name} src={props.card.link} onClick={handleCardClick}/>\r\n        <button  className={cardDeleteButtonClassName} type=\"button\" id=\"delete\" onClick={handleDeleteClick}></button>\r\n        <div className=\"element__text-and-button\">         \r\n          <p className=\"element__title\">{props.card.name}</p>\r\n          <div className=\"element__like-block\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" id=\"like\" onClick={handleLikeClick} ></button>\r\n          <p className=\"element__like-counter\">{props.card.likes.length}</p>\r\n          </div>\r\n        </div>  \r\n      </div>  \r\n    </>\r\n  );\r\n}\r\n","import {Card} from './Card.js';\r\nimport React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nexport function Main(props) {\r\n  \r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return(\r\n    <main className=\"content\">      \r\n      <section className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <img className=\"profile__avatar\" alt=\"Аватар\" src={currentUser.avatar} />\r\n          <button className=\"profile__edit-avatar\" onClick={props.onEditAvatar} type=\"button\"></button>\r\n          <div className=\"profile__person\">\r\n            <div className=\"profile__title-and-edit\">\r\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n              <button className=\"profile__edit-button\" onClick={props.onEditProfile} type=\"button\"></button>\r\n            </div>\r\n            <p className=\"profile__subtitle\">{currentUser.about}</p>              \r\n          </div>                      \r\n        </div>\r\n        <button className=\"profile__add-button\" onClick={props.onAddPlace} type=\"button\"></button>         \r\n      </section>     \r\n  \r\n      <section className=\"elements\">          \r\n        {props.cards.map((card) => {\r\n          return(\r\n            <Card             \r\n            card={card}  \r\n            name={card.name}\r\n            link={card.link}  \r\n            key={card._id}\r\n            likes={card.likes}       \r\n            onCardClick={props.onCardClick}\r\n            onCardLike={props.onCardLike}\r\n            onCardDelete={props.onCardDelete}\r\n            /> \r\n          )\r\n        })}\r\n      </section> \r\n    </main>  \r\n  )\r\n}\r\n","export function Footer() {\r\n  return (\r\n    <footer className=\"footer\">      \r\n    <p className=\"footer__copyright\">© 2020 Mesto Russia</p>      \r\n    </footer>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport function PopupWithForm(props) {\r\n\r\n  const openedPopup = (props.isOpen) ? ' popup_opened' : '';\r\n\r\n\r\n  return (    \r\n    <section className={`${props.name}popup`+ openedPopup} >\r\n      <form className='popup__container' name={props.name} onSubmit={props.onSubmit} noValidate>\r\n        <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}></button> \r\n        <h3 className=\"popup__title\" >{props.title}</h3>\r\n        {props.children}\r\n      <button className=\"popup__save-button\" type=\"submit\" >{props.text}</button> \r\n      </form>\r\n    </section>    \r\n  )\r\n}","import {PopupWithForm} from './PopupWithForm.js';\r\nimport React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nexport function EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, changeName] = React.useState('');\r\n  const [description, changeDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    changeName(currentUser.name);\r\n    changeDescription(currentUser.about)\r\n  }, [currentUser] )\r\n\r\n  function handleChangeName(evt) {\r\n    changeName(evt.target.value)\r\n  }\r\n\r\n  function handleChangeDescription(evt) {\r\n    changeDescription(evt.target.value)\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    evt.preventDefault();  \r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  return(\r\n    < PopupWithForm \r\n      title=\"Редактировать профиль\" name=\"\" children=\r\n        {<>\r\n          <fieldset className=\"popup__fieldset\">\r\n            <input type=\"text\" className=\"popup__name-field\" id=\"Name\" name=\"nameInput\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required value={name} onChange={handleChangeName}/>\r\n            <span id=\"Name-error\" className=\"popup__name-field-error\"></span>\r\n            <input type=\"text\" className=\"popup__name-field\" id=\"About\" name=\"jobInput\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required value={description} onChange={handleChangeDescription}/>\r\n            <span id=\"About-error\" className=\"popup__name-field-error\"></span>\r\n          </fieldset>\r\n        </>}\r\n      text={\"Сохранить\"}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    /> \r\n  )\r\n}\r\n","import {PopupWithForm} from './PopupWithForm.js';\r\nimport React from 'react';\r\n\r\nexport function EditAvatarPopup(props) {\r\n  const avaRef = React.useRef('');\r\n\r\n  function handleSubmit(evt) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    evt.preventDefault();  \r\n    props.onUpdateAvatar({\r\n      avatar: avaRef.current.value\r\n    });\r\n  } \r\n\r\n  return(\r\n  < PopupWithForm title=\"Обновить аватар\" name=\"avatar-\" children=\r\n    {<>\r\n      <fieldset className=\"popup__fieldset\">\r\n        <input ref={avaRef} type=\"url\" className=\"popup__name-field\" id=\"linkAva\" name=\"linkAva\" placeholder=\"Ссылка на аватар\" required />\r\n        <span id=\"linkAva-error\" className=\"popup__name-field-error\"></span>\r\n      </fieldset>\r\n    </>}\r\n    text={\"Сохранить\"}\r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    onSubmit={handleSubmit}\r\n  />\r\n  )\r\n}","import {PopupWithForm} from './PopupWithForm.js';\r\nimport React from 'react';\r\n\r\nexport function AddPlacePopup(props) {\r\n  const [name, changeName] = React.useState('');\r\n  const [link, changeLink] = React.useState('');\r\n\r\n  function handleChangeName(evt) {\r\n    changeName(evt.target.value)\r\n  }\r\n\r\n  function handleChangeLink(evt) {\r\n    changeLink(evt.target.value)\r\n  }\r\n  function handleSubmit (evt) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    evt.preventDefault();  \r\n    props.onAddPlace({\r\n      name: name,\r\n      link: link\r\n    });\r\n  } \r\n\r\n  return(\r\n    < PopupWithForm title=\"Новое место\" name=\"add-\" children=\r\n    {<>\r\n      <fieldset className=\"popup__fieldset\">\r\n        <input type=\"text\" className=\"popup__name-field\" id=\"namePic\" name=\"namePic\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required  value={name} onChange={handleChangeName} />\r\n        <span id=\"namePic-error\" className=\"popup__name-field-error\" ></span>\r\n        <input type=\"url\" className=\"popup__name-field\" id=\"link\" name=\"linkPic\" placeholder=\"Ссылка на картинку\" required  value={link} onChange={handleChangeLink}/>\r\n        <span id=\"link-error\" className=\"popup__name-field-error\"></span>\r\n      </fieldset>\r\n    </>}\r\n    text={\"Создать\"}\r\n    isOpen={props.isOpen}\r\n    onClose={props.onClose}\r\n    onSubmit={handleSubmit}\r\n  />\r\n  )\r\n}","export function ImagePopup(props) {\r\n  const isOpen = (props.isOpen) ? ' popup_opened' : '';\r\n  return (\r\n    <section className={`${props.name}popup`+isOpen}>\r\n      <div className=\"pic-popup__container\">\r\n        <button className=\"pic-popup__close-button\" type=\"button\" onClick={props.onClose}></button> \r\n        <figure className=\"pic-popup__content-and-name\">\r\n          <img className=\"pic-popup__content\" alt=\"Фото в полном размере\" src={props.card.link}/>          \r\n          <figcaption className=\"pic-popup__name\">{props.card.name}</figcaption>\r\n        </figure>          \r\n      </div>\r\n    </section>\r\n  )\r\n}","import React, { useState } from 'react';\r\n\r\nexport function Login(props) {\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleEmailInput = (evt) => setEmail(evt.target.value);\r\n  const handlePasswordInput = (evt) => setPassword(evt.target.value);\r\n\r\n  function handleLogin(evt) {\r\n    evt.preventDefault()\r\n    props.handleLoggedIn(email, password)\r\n}\r\n\r\n  return(\r\n    <form className='popup__container_black' name='login' onSubmit={handleLogin} noValidate>\r\n      <h3 className='popup__title_white' >Вход</h3>\r\n    \r\n      <fieldset className=\"popup__fieldset\">\r\n          <input type=\"email\" className=\"popup__name-field_black\" id=\"email\" name=\"email\" placeholder=\"Email\" minLength=\"6\" maxLength=\"30\" required  value={email} onChange={handleEmailInput} />\r\n          <input type=\"password\" className=\"popup__name-field_black\" id=\"password\" name=\"password\" placeholder=\"Пароль\" required  value={password} onChange={handlePasswordInput} />\r\n      </fieldset>\r\n      <button className=\"popup__save-button_white\" type=\"submit\" >Войти</button> \r\n\r\n    </form> \r\n  \r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport function Register(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleEmail(evt) {\r\n      setEmail(evt.target.value);\r\n  }\r\n\r\n  function handlePassword(evt) {\r\n      setPassword(evt.target.value);\r\n  }\r\n\r\n  // отправка формы\r\n  function handleSubmit(evt) {\r\n      evt.preventDefault();\r\n      props.handleRegister(email, password);\r\n  }\r\n\r\n  return(\r\n    <>\r\n    \r\n      <form className='popup__container_black' name='register' onSubmit={handleSubmit} noValidate>\r\n        <h3 className=\"popup__title_white\" >Регистрация</h3>\r\n      \r\n        <fieldset className=\"popup__fieldset\">\r\n          <input type=\"email\" className=\"popup__name-field_black\" id=\"email\" name=\"email\" placeholder=\"Email\" minLength=\"6\" maxLength=\"30\" required  value={email} onChange={handleEmail} />\r\n          <input type=\"password\" className=\"popup__name-field_black\" id=\"password\" name=\"password\" placeholder=\"Пароль\" required  value={password} onChange={handlePassword} />\r\n        </fieldset>       \r\n        <button className=\"popup__save-button_white\" type=\"submit\" >Зарегистрироваться</button> \r\n        <Link className=\"popup__bottom-text\" to=\"/sign-in\">Уже зарегистрированы? Войти </Link>  \r\n\r\n      </form>    \r\n     \r\n\r\n    </>\r\n  )\r\n}","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport function ProtectedRoute ({ component: Component, ...props  }) {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-up\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/green-icon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/union.7c6a020b.svg\";","import React from 'react'\r\nimport successPic from '../images/green-icon.svg'\r\nimport failPic from '../images/union.svg'\r\n\r\nexport function InfoTooltip(props) {\r\n    return(\r\n        <section className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\r\n            <form className='popup__container' name='info'>\r\n                <button className='popup__close-button' type=\"button\" onClick={props.onClose}></button>\r\n                <div className=\"pic-popup__content\" style={{backgroundImage: `url(${props.loggedIn ? successPic : failPic})`}} />\r\n                <h3 className=\"popup__title\">{props.loggedIn ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</h3>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n","class Api {\r\n  constructor(config) {\r\n    this._url = config.url;\r\n    this._headers = config.headers;\r\n  }\r\n\r\n  _getResponseData(res){\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n    .then(res => this._getResponseData(res));\r\n  }\r\n\r\n  getCardsServer() {\r\n    return fetch(`${this._url}cards`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    }).then(res => this._getResponseData(res));\r\n  }\r\n\r\n  editProf({ name, about }) {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about\r\n      })\r\n    }).then(res => this._getResponseData(res));\r\n  }\r\n\r\n  addNewCard({ name, link}) {\r\n    return fetch(`${this._url}cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link\r\n      })\r\n    }).then(res => this._getResponseData(res));\r\n  }\r\n\r\n  delMyCard(item) {\r\n    return fetch(`${this._url}cards/`+item._id, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n      }).then(res => this._getResponseData(res));\r\n  }\r\n\r\n  changeLikeCardStatus(card, isLiked) {\r\n\t\tif (isLiked) {\r\n      return fetch(`${this._url}cards/likes/${card._id}`, {\r\n        method: 'PUT',\r\n        headers: this._headers\r\n      }).then(res => this._getResponseData(res));\r\n\t\t}\r\n\t\telse {\r\n      return fetch(`${this._url}cards/likes/${card._id}`, {\r\n        method: 'DELETE',\r\n        headers: this._headers\r\n      }).then(res => this._getResponseData(res));\r\n\t\t}\r\n\t}\r\n\r\n  editAvatar({ avatar }) {\r\n    return fetch(`${this._url}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar\r\n      })\r\n    }).then(res => this._getResponseData(res));\r\n  }\r\n\r\n}\r\n\r\nexport const apiData = new Api(\r\n  {\r\n    url:'https://mesto.nomoreparties.co/v1/cohort-16/',\r\n    headers: {\r\n      authorization: '11833e84-e207-4192-9aba-df03c33b720c',\r\n      'content-type': 'application/json'\r\n    }\r\n  }\r\n);","const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ password, email })\r\n    })\r\n    .then(res => {\r\n        if (res.status === 400) {\r\n            throw new Error('Не передано одно из полей')\r\n        } else if (res.status === 401) {\r\n            throw new Error('Некорректный email или пароль')\r\n        } else\r\n        return res.json()\r\n    })\r\n    .then(res => res);\r\n}\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ password, email })\r\n    })\r\n    .then(response => {\r\n        if (response.status === 400) throw new Error('Некорректно заполнено одно из полей') \r\n        return response.json()\r\n    })\r\n    .then(res => res)\r\n}\r\nexport const tokenCheck = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n        }\r\n    })\r\n    .then(res => {\r\n        if (res.status === 400) {\r\n            throw new Error('Токен не передан или передан не в том формате')\r\n        } else if (res.status === 401) {\r\n            throw new Error('Передан некоррекный токен')\r\n        } else\r\n        return res.json()\r\n    })\r\n    .then(res => res)\r\n}","import React from 'react';\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\nimport {Header} from './Header.js';\nimport {Main} from './Main.js';\nimport {Footer} from './Footer.js';\nimport {PopupWithForm} from './PopupWithForm.js';\nimport {EditProfilePopup} from './EditProfilePopup.js';\nimport {EditAvatarPopup} from './EditAvatarPopup.js';\nimport {AddPlacePopup} from './AddPlacePopup.js';\nimport {ImagePopup} from './ImagePopup.js';\nimport {Login} from './Login.js';\nimport {Register} from './Register.js';\nimport {ProtectedRoute} from './ProtectedRoute.js';\nimport {InfoTooltip} from './InfoTooltip.js';\nimport {apiData} from '../utils/Api.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\nimport * as auth from '../utils/auth'\n\nexport default function App() {\n\n  const [isEditProfilePopupOpen, checkIsEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, checkIsEditAvatarPopupOpen] = React.useState(false); \n  const [isAddPlacePopupOpen, checkIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, checkIsSelectedCard] = React.useState(false);\n  const [gettingCard, checkGetCard] = React.useState({name: '', link: ''});\n  const [currentUser, setCurrentUser] = React.useState({name: '', about: '', avatar: ''});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setIsLoggedIn] = React.useState(false);\n  const [userData, setUserData] = React.useState({});\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false)\n  const history = useHistory();\n  \n  React.useEffect(() => {\n    apiData.getUserInfo()\n    .then((userData) => {  \n      setCurrentUser(userData);  \n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    apiData.getCardsServer()\n\t\t\t.then((data) => {\n        setCards(data);\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }, []);\n\n  function handleEditProfileClick () {\n    checkIsEditProfilePopupOpen(true)\n  } \n  function handleEditAvatarClick() { \n    checkIsEditAvatarPopupOpen(true)\n  }\n  function handleAddPlaceClick() {\n    checkIsAddPlacePopupOpen(true)\n  }\n  function handleCardClick(data) {\n    checkIsSelectedCard(true);\n    checkGetCard({name: data.name, link: data.link});\n  }\n\n  // функция открытия попапа при регистрации\n  function handleInfoTooltipOpen() {\n    setIsInfoTooltipOpen(true)\n  }\n\n  function closeAllPopups() {\n    checkIsEditProfilePopupOpen(false);\n    checkIsEditAvatarPopupOpen(false);\n    checkIsAddPlacePopupOpen(false);\n    checkIsSelectedCard(false)\n    setIsInfoTooltipOpen(false)\n  }\n\n  function handleUpdateUser({name, about}) {\n    apiData.editProf({name, about})\n    .then((userData) => {  \n      setCurrentUser(userData); \n      closeAllPopups(); \n    })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleUpdateAvatar({avatar}) {\n    apiData.editAvatar({ avatar })\n    .then((userData) => {  \n      setCurrentUser(userData); \n      closeAllPopups(); \n    })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);    \n  // Отправляем запрос в API и получаем обновлённые данные карточки\n    apiData.changeLikeCardStatus(card, !isLiked)\n    .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      // Обновляем стейт\n      setCards(newCards);\n    })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleCardDelete(card) {\n      // Отправляем запрос в API и получаем обновлённые данные карточки\n      apiData.delMyCard(card)\n      .then(() => {\n          // Формируем новый массив на основе имеющегося\n        const newCards = cards.filter((c) => c._id !== card._id);\n        // Обновляем стейт\n        setCards(newCards);\n      })\n        .catch((err) => {\n          console.log(`Ошибка: ${err}`);\n        });\n  }\n\n  function handleAddPlaceSubmit({ name, link}) {    \n    apiData.addNewCard({ name, link})\n    .then((newCard) => {\n      setCards([newCard, ...cards]); \n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      })\n  } \n\n  // Авторизация\n  function handleLoggedIn(email, password) {\n    auth.authorize(email, password)\n    .then((data) => {\n      if (data.token) {\n        setIsLoggedIn(true)\n        history.push('/')\n        handleInfoTooltipOpen()\n      } \n    })\n    .catch(() => {\n      handleInfoTooltipOpen()\n    })\n}\n  // регистрация пользователя\n  function handleRegister(email, password) {\n    auth.register(email, password)\n    .then((res) => {\n      if (res) {\n        history.push('/sign-in')\n      }\n    })\n    .catch((err) => console.log(err))\n  }\n\n  function handleLogOut() {\n    setIsLoggedIn(false)\n  }\n\n  function tokenCheck() {\n    if (localStorage.getItem('jwt')) {\n      const jwt = localStorage.getItem('jwt')  \n      auth.tokenCheck(jwt)\n      .then((res) => {\n          if (res) {\n            setUserData(res.data)\n            setIsLoggedIn(true)\n            history.push('/')\n          }\n      })\n      .catch((err) => console.log(err))\n    }  \n  }\n\n  // проверим токен\n  React.useEffect(() => {\n    tokenCheck()\n  });\n\n  return (         \n    <CurrentUserContext.Provider value={currentUser}>\n        \n      <div className=\"page\">           \n        < Header userData = {userData} handleLogOut = {handleLogOut} />\n\n        < Switch >\n          < ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main} \n              onEditProfile = {handleEditProfileClick}\n              onEditAvatar = {handleEditAvatarClick}\n              onAddPlace = {handleAddPlaceClick}\n              onCardClick = {handleCardClick}\n              cards = {cards}\n              onCardLike = {handleCardLike}\n              onCardDelete = {handleCardDelete}\n          />\n          < Route path=\"/sign-in\">\n              <Login\n                  handleLoggedIn = {handleLoggedIn}\n                  handleInfoTooltipOpen = {handleInfoTooltipOpen}\n              />\n          </Route>\n          < Route path=\"/sign-up\">\n              <Register\n                  handleRegister={handleRegister}\n              />\n          </Route>\n          <Route path=\"/\">\n            {loggedIn ? <Redirect to=\"/cards\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n\n        < Footer />            \n      </div>  \n\n      < EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />           \n      < EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n      < AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n      < PopupWithForm title=\"Вы уверены?\" name=\"delete-\" text={\"Да\"}/>\n      < ImagePopup name=\"pic-\" isOpen={selectedCard} onClose={closeAllPopups} card={gettingCard} /> \n      < InfoTooltip loggedIn={loggedIn} isOpen = {isInfoTooltipOpen} onClose = {closeAllPopups} />\n\n    </CurrentUserContext.Provider>    \n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}